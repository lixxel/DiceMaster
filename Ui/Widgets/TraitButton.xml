<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">

  <Script file="TraitButton.lua"/>
  
  <Frame name="DiceMasterTooltip" frameStrata="TOOLTIP" hidden="true" parent="UIParent" inherits="TooltipBorderedFrameTemplate">
	<Size>
		<AbsDimension x="10" y="32"/>
	</Size>
		<Anchors>
			<Anchor point="LEFT"/>
	</Anchors>
	<Layers>
			<Layer level="ARTWORK">
				<FontString name="$parentTextLeft1" parentKey="TextLeft1" inherits="GameTooltipText">
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="10" y="-10"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
			</Layer>
	</Layers>
	<Scripts>
			<OnShow>
				self:SetPoint("TOPLEFT", GameTooltip, "TOPRIGHT")
				if self.TextLeft1:GetWidth() > 230 then self.TextLeft1:SetWidth( 230 ); end
				self:SetWidth( self.TextLeft1:GetWidth() + 20 );	
				self:SetHeight( self.TextLeft1:GetHeight() + 20 )
			</OnShow>
	</Scripts>
  </Frame>
  
  <!-- Template for the main "trait" buttons. -->
  <Button name="DiceMasterTraitButton" enableMouse="true" intrinsic="true">
    <Size x="32" y="32"/>
    <Layers>
    
      <Layer level="BACKGROUND">
        <Texture parentKey="icon" setAllPoints="true" file="Interface/Icons/inv_misc_questionmark">
        </Texture>
      </Layer>
        
      <Layer level="BORDER">
        <Texture parentKey="border" file="Interface/AddOns/DiceMaster/Texture/traits-border">
          
          <Size x="48" y="48"/>	
          <Anchors>
            <Anchor point="CENTER"/>
					</Anchors>
          
        </Texture>
      </Layer>
       
      <Layer level="OVERLAY"> 
        <Texture parentKey="highlight" file="Interface/Addons/DiceMaster/Texture/trait-select" hidden="true">
          
          <Size x="48" y="48"/>	
          <Anchors>
            <Anchor point="CENTER"/>
					</Anchors>
          
        </Texture>
		<Texture parentKey="ants" file="Interface/Transmogrify/PurpleIconAlertAnts" hidden="true">
			<Size x="48" y="48"/>
			<Anchors>
				<Anchor point="CENTER"/>
			</Anchors>
        </Texture>
      </Layer>
      
    </Layers>
    <Scripts>
	  <OnUpdate>
		DiceMaster4.TraitButton_OverlayGlowOnUpdate( self, elapsed )
	  </OnUpdate>
      <OnLoad>
        DiceMaster4.TraitButton_Init( self )
      </OnLoad>
      <OnSizeChanged>
        
        local qw, qh = self:GetWidth() * 1.4, self:GetHeight() * 1.4
        self.border:SetSize( qw, qh )
        self.highlight:SetSize( qw, qh )
		self.ants:SetSize( qw*0.8, qh*0.8 )
      </OnSizeChanged>
    </Scripts>
    
  </Button>

</Ui>
