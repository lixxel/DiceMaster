<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">

  <!-- Frame for showing your charges and adjusting them. -->
  
  <Button name="DiceMasterChargesFrame" frameStrata="MEDIUM" parent="UIParent">
    
    <Size x="180" y="24"/>
    <Anchors>
      <Anchor point="CENTER" x="0" y="0"/>
    </Anchors>
        
    <Scripts>
      <OnLoad>
        self.Title = "Charges Frame"
		self:SetClampedToScreen( true )
		self:SetMovable(true)
		self:EnableMouse(false)
		self:RegisterForDrag( "LeftButton" )
		self:SetScript( "OnDragStart", self.StartMoving )
		self:SetScript( "OnDragStop", self.StopMovingOrSizing )
		 self:SetScale( 1.2 )
		self:SetUserPlaced( true )
      </OnLoad>
    </Scripts>
    
    <Frames>
	
	  <Frame name="$parentDragFrame" inherits="DiceMasterDragFrameTemplate" setAllPoints="true"/>
      
      <!-- The actual bar. Above is just a window and used for dragging. -->
      <DiceMasterStatusBar parentKey="bar">
        
        <Size x="32" y="32"/>
        <Anchors>
          <Anchor point="CENTER" x="0" y="0"/>
        </Anchors>
        <Scripts>
          <OnLoad>
            self:SetScale( 0.5 )
          </OnLoad>
          <OnMouseDown>
            DiceMaster4.OnChargesClicked( button )
          </OnMouseDown>
        </Scripts>
      </DiceMasterStatusBar>
	  <StatusBar parentKey="bar2" minValue="0" maxValue="100" defaultValue="30" orientation="HORIZONTAL">
		<Size x="150" y="32"/>
		<Anchors>
          <Anchor point="CENTER" x="0" y="0"/>
        </Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="background" setAllPoints="true" >
				</Texture>
		    </Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="frame" setAllPoints="true" >
				</Texture>
		    </Layer>
			<Layer level="HIGHLIGHT">
				<FontString parentKey="text" inherits="GameFontHighlightSmall2" justifyH="center" setallpoints="true">
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetScale( 0.8 )
				self:SetStatusBarTexture("Interface/UNITPOWERBARALT/Generic1Player_Horizontal_Fill")
				self.frame:SetTexture("Interface/UNITPOWERBARALT/FuelGauge_Horizontal_Frame")
				self.background:SetTexture("Interface/UNITPOWERBARALT/Generic1Player_Horizontal_Bgnd")
			</OnLoad>
			<OnMouseDown>
            DiceMaster4.OnChargesClicked( button )
          </OnMouseDown>
		</Scripts>
	  </StatusBar>
	  <Frame parentkey="healthbar">
        <Size x="160" y="20"/>
        <Anchors>
          <Anchor point="CENTER" x="0" y="10"/> 
        </Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="background" setAllPoints="true">
				</Texture>
		    </Layer>
			<Layer level="BORDER" textureSubLevel="-1">
				<Texture parentKey="armor" setAllPoints="true">
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture parentKey="fill" setAllPoints="true">
				</Texture>
		    </Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="frame" setAllPoints="true" >
				</Texture>
				<Texture parentKey="spark" alphaMode="ADD"/>
		    </Layer>
			<Layer level="HIGHLIGHT">
				<FontString parentKey="text" inherits="TextStatusBarText" setallpoints="true">
				</FontString>
			</Layer>
		</Layers>
        <Scripts>
          <OnLoad>
            self.fill:SetTexture("Interface/AddOns/DiceMaster/Texture/health-bar")
			self.fill:SetTexCoord( 0, 1, 0.5, 0.75 )
			self.fill:ClearAllPoints();
			self.fill:SetPoint("TOPLEFT");
			self.fill:SetPoint("BOTTOMLEFT");
			self.fill:SetWidth(self:GetWidth());
			
			self.armor:SetTexture("Interface/AddOns/DiceMaster/Texture/health-bar")
			self.armor:SetTexCoord( 0, 1, 0.75, 1 )
			self.armor:ClearAllPoints();
			self.armor:SetPoint("TOPLEFT");
			self.armor:SetPoint("BOTTOMLEFT");
			self.armor:SetWidth(self:GetWidth());
			
			self.spark:SetTexture("Interface/UNITPOWERBARALT/Generic1Player_Horizontal_Spark")
			self.spark:ClearAllPoints();
			self.spark:SetHeight(self:GetHeight());
			self.spark:SetWidth(self:GetHeight()/4);
			self.spark:SetPoint("LEFT", self.fill, "RIGHT", -2, 0);
			
			self.frame:SetTexture("Interface/AddOns/DiceMaster/Texture/health-bar")
			self.frame:SetTexCoord( 0, 1, 0, 0.25 )
			self.background:SetTexture("Interface/AddOns/DiceMaster/Texture/health-bar")
			self.background:SetTexCoord( 0, 1, 0.25, 0.5 )
			
            --self:SetMax( 10 )
            DiceMaster4.SetupTooltip( self, nil, "Health", nil, nil, nil, 
              "Represents your health.|n|cFF707070&lt;Left/Right Click to Add/Remove>|n&lt;Shift+Left Click to Set Max>|n&lt;Ctrl+Left Click to Set Value>" )
          </OnLoad>
          <OnMouseDown>
            DiceMaster4.OnHealthClicked( button )
          </OnMouseDown>
        </Scripts>
      </Frame>
    </Frames>
  </Button>
    
</Ui>
