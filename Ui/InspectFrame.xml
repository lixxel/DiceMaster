<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\..\FrameXML\UI.xsd">
	
  <!-- Inspect Panel / What shows when you target someone. -->
  
  <Button name="DiceMasterInspectFrame" frameStrata="MEDIUM" parent="UIParent">
    <Size x="180" y="64"/>
    <Anchors>
      <Anchor point="CENTER" x="0" y="0"/>
    </Anchors>
    
    <Scripts>
      <OnLoad>
		self.Title = "Inspect Frame"
		self:SetClampedToScreen( true )
		self:SetMovable(true)
		self:EnableMouse(false)
		self:RegisterForDrag( "LeftButton" )
		self:SetScript( "OnDragStart", self.StartMoving )
		self:SetScript( "OnDragStop", self.StopMovingOrSizing )
		self:SetUserPlaced( true )
        self:Hide()
        
        -- create trait buttons
        self.traits = {}
        for i = 1,5 do
          self.traits[i] = CreateFrame( "DiceMasterTraitButton", nil, self )
          self.traits[i]:SetSize( 24, 24 )
          self.traits[i]:SetPoint( "CENTER", -56 + 28*(i-1), 0 )
          self.traits[i].traitIndex = i
		  self.traits[i]:SetScript( "OnMouseDown", function( self, button )
			DiceMaster4.Inspect_OnTraitClicked( self, button )
		end)
        end
      </OnLoad>
    </Scripts>
    
    <Frames>
		
	  <Frame name="$parentDragFrame" inherits="DiceMasterDragFrameTemplate" setAllPoints="true"/>
      
      <!-- Charges bar. -->
      <DiceMasterStatusBar parentKey="charges">
        
        <Size x="32" y="32"/>
        <Anchors>
          <Anchor point="CENTER" x="0" y="17"/>
        </Anchors>
        <Scripts>
          <OnLoad>
			self:SetScale( 0.5 )
            self:SetTexture( "Interface/AddOns/DiceMaster/Texture/charge-orb"  ) 
          </OnLoad>
        </Scripts>
      </DiceMasterStatusBar> 
	  
	  <StatusBar parentKey="charges2" minValue="0" maxValue="100" defaultValue="30" orientation="HORIZONTAL">
		<Size x="150" y="32"/>
		<Anchors>
          <Anchor point="CENTER" x="0" y="17"/>
        </Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="background" setAllPoints="true" >
				</Texture>
		    </Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="frame" setAllPoints="true" >
				</Texture>
		    </Layer>
			<Layer level="HIGHLIGHT">
				<FontString parentKey="text" inherits="GameFontHighlightSmall2" justifyH="center" setallpoints="true">
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetScale( 0.8 )
				self:SetStatusBarTexture("Interface/UNITPOWERBARALT/Generic1Player_Horizontal_Fill")
				self.frame:SetTexture("Interface/UNITPOWERBARALT/FuelGauge_Horizontal_Frame")
				self.background:SetTexture("Interface/UNITPOWERBARALT/Generic1Player_Horizontal_Bgnd")
			</OnLoad>
		</Scripts>
	  </StatusBar>
      
      <DiceMasterStatusBar parentKey="health">
        <Size x="16" y="16"/>
        <Anchors>
          <Anchor point="CENTER" x="0" y="35"/>
        </Anchors>
        
        <Scripts>
          <OnLoad>
            self:SetTexture( "Interface/AddOns/DiceMaster/Texture/health-heart" )
            DiceMaster4.SetupTooltip( self, nil, "Health", nil, nil, nil, "Represents this player's health." )
          </OnLoad>
        </Scripts>
      </DiceMasterStatusBar>
    </Frames>     
  </Button>
  
  <Frame name="DiceMasterInspectBuffFrame" parent="DiceMasterInspectFrame">
	<Size x="180" y="32"/>
	<Anchors>
		<Anchor point="BOTTOM" relativeTo="DiceMasterInspectFrame" relativePoint="TOP" x="0" y="0">
		</Anchor>
	</Anchors>
	<Frames>
		<Frame name="$parentDragFrame" inherits="DiceMasterDragFrameTemplate" setAllPoints="true"/>
	</Frames>
	<Scripts>
		<OnLoad> 
			self.Title = "Target Buffs Frame"
			self:SetClampedToScreen( true )
			self:SetMovable(true)
			self:EnableMouse(false)
			self:RegisterForDrag( "LeftButton" )
			self:SetScript( "OnDragStart", self.StartMoving )
			self:SetScript( "OnDragStop", self.StopMovingOrSizing )
			self:SetUserPlaced( true )
		
			-- create buff buttons
			self.buffs = {}
			for i = 1,5 do
			  self.buffs[i] = CreateFrame( "Button", "DiceMasterInspectBuffButton"..i, self, "DiceMasterBuffButtonTemplate" )
			  self.buffs[i]:SetSize( 24, 24 )
			  self.buffs[i]:SetPoint( "CENTER", -56 + 28*(i-1), 0 )
			  self.buffs[i]:SetScript("OnLoad", nil);
			  self.buffs[i]:SetScript("OnClick", nil);
			  self.buffs[i].buffIndex = i
			end
		</OnLoad>
	</Scripts>
  </Frame>
</Ui>
